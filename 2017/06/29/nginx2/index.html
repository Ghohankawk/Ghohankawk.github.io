<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="author" content="ghohank">
    
    
    
    
    
    
    <title>nginx入门系列二 | 闻道</title>
    <!-- inject:style -->
    <link href="/css/style.css" rel="stylesheet" type="text/css">
    <!-- endinject -->
    <style>
        .cube-loading {
            top: 0;
            position: fixed;
            width: 100%;
            height: 100%;
            background: url('/images/lg/loading.gif') no-repeat center center;
            background-color: rgba(0,0,0,.7);
        }

        .cube-loading.out {
            display: none;
        }

        .cube-loading:before {
            display: block;
            content: '加载中';
            position: relative;
            width: 100%;
            top: 50%;
            right: -50%;
            color: #fff;
        }

        @media(max-width: 768px) {
            .cube-loading:before {
                font-size: 1.2em;
                transform: translate(-24px,20px);
                -webkit-transform: translate(-24px,20px);
                -o-transform: translate(-24px,20px);
                -ms-transform: translate(-24px,20px);
            }
        }

        @media(min-width: 768px) {
            .cube-loading:before {

            }
        }
    </style>
    
    <script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-100775956-1', 'auto');
    ga('send', 'pageview');
</script>

    
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
        (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-9654808400771776",
            enable_page_level_ads: true
        });
    </script>
</head>
<body>
<div class="cube-body">
    <nav id="cube-top-memu" class="cube-menu">
    <ul class="cube-menu-collapse">
        
        <li>
            <i class="cube-icon cube-icon-home" aria-hidden="true"></i>
            <a href="/">首页</a>
        </li>
        
        <li>
            <i class="cube-icon cube-icon-archive" aria-hidden="true"></i>
            <a href="/archives">归档</a>
        </li>
        
        <li>
            <i class="cube-icon cube-icon-about" aria-hidden="true"></i>
            <a href="/about.html">关于我</a>
        </li>
        
    </ul>
</nav>
<nav class="cube-side-menu" id="cube-side-menu">
    <ul class="cube-menu-list">
        <li>
            <a class="scroll-to-top">回到顶部</a>
        </li>
    </ul>
</nav>
    <header class="cube-header" id="cube-header">
    <img src=" http://punchline.asia/wp-content/uploads/2016/10/%E3%80%8A%E4%BD%A0%E7%9A%84%E5%90%8D%E5%AD%97%E3%80%8B10%E6%9C%8814%E8%87%B316%E6%97%A5%E5%8F%A3%E7%A2%91%E5%A0%B4%EF%BC%8C10%E6%9C%8821%E6%97%A5%E5%85%A8%E5%8F%B0%E6%AD%A3%E5%BC%8F%E4%B8%8A%E6%98%A0100403.jpg " alt="头部背景图片">
    
    <div class="cube-type">
        <span class="cube-typed-title">二次元の世界</span>
        <span class="cube-typed-cursor">|</span>
    </div>
    
</header>

    <style>
        nav.cube-menu:before {
            content: '';
            visibility: hidden;
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
            height: 44px;
        
            filter: blur(5px);
            -webkit-filter: blur(5px);
        
            z-index: -1;
            background-image: url('http://punchline.asia/wp-content/uploads/2016/10/%E3%80%8A%E4%BD%A0%E7%9A%84%E5%90%8D%E5%AD%97%E3%80%8B10%E6%9C%8814%E8%87%B316%E6%97%A5%E5%8F%A3%E7%A2%91%E5%A0%B4%EF%BC%8C10%E6%9C%8821%E6%97%A5%E5%85%A8%E5%8F%B0%E6%AD%A3%E5%BC%8F%E4%B8%8A%E6%98%A0100403.jpg');
            background-repeat: no-repeat;
            background-position: center -356px;
            background-size: cover;
            background-color: transparent;
        }

        header.cube-background.cube-header-background {
            visibility: hidden;
            background-image: url('http://punchline.asia/wp-content/uploads/2016/10/%E3%80%8A%E4%BD%A0%E7%9A%84%E5%90%8D%E5%AD%97%E3%80%8B10%E6%9C%8814%E8%87%B316%E6%97%A5%E5%8F%A3%E7%A2%91%E5%A0%B4%EF%BC%8C10%E6%9C%8821%E6%97%A5%E5%85%A8%E5%8F%B0%E6%AD%A3%E5%BC%8F%E4%B8%8A%E6%98%A0100403.jpg');
            background-position: center -400px;
        }
    </style>
    <header class="cube-background cube-header-background">
        
        <div class="cube-type">
            <span class="cube-typed-title">二次元の世界</span>
            <span class="cube-typed-cursor">|</span>
        </div>
        
    </header>
    <div class="load-header-background"></div>
    <script>
        (function (window) {

            window.headerModule = {}
            window.headerModule.image = {
                width: '1920',
                height: '1080'
            }

        })(window)
    </script>
    
    <div class="cube-content">
        <div class="cube-left">
            <div class="cube-article">
    <h1 class="title">nginx入门系列二</h1>
    
    <div class="cube-article-header">
        <div class="cube-article-date">
            <i class="cube-icon cube-icon-date" aria-hidden="true"></i>
            <!-- moment.js对象 -->
            2017-06-29
        </div>
        <div class="cube-article-tags">
    <i class="cube-icon cube-icon-tag" aria-hidden="true"></i>
    
</div>
        <span id="busuanzi_container_page_pv">
        <i class="cube-icon fa-eye" aria-hidden="true">访问量：<span style="display: inline-block" id="busuanzi_value_page_pv"></span></i>
        </span>
    </div>
    
    <div class="cube-article-content cube-markdown">
        
        <h1 id="今天要分享的内容是还是nginx相关"><a href="#今天要分享的内容是还是nginx相关" class="headerlink" title="今天要分享的内容是还是nginx相关"></a>今天要分享的内容是还是nginx相关</h1> <a id="more"></a> 
<h1 id="Nginx-重写规则指南"><a href="#Nginx-重写规则指南" class="headerlink" title="Nginx 重写规则指南"></a>Nginx 重写规则指南</h1><p>既然你看到这里，我想，不用问，你也肯定知道，nginx是运维要玩的东西，开发不直接管，那么</p>
<p>记住一句话：<br>不懂程序的运维，不是好运维；不懂运维的开发，不是 好开发。</p>
<p>对于重写规则 说到底就是正则匹配，同时，如果想把 apache 转换成 nginx，重写规则也是要改的咯。</p>
<ol>
<li><p>rewrite 模块介绍</p>
<p>nginx 的重写模块是一个简单的正则表达式匹配与一个虚拟堆叠机结合。依赖于 PCRE 库，因此需要安装 pcre。根 据相关变量重定向和选择不同的配置，从一个 location 跳转到另一个 location，不过这样的循环最多可以执行 10 次，超过后 nginx 将返回 500 错误。同时，重写模块包含 set 指令，来创建新的变量并设其值，这在有些情景 下非常有用的，如记录条件标识、传递参数到其他 location、记录做了什么等等。</p>
</li>
<li><p>rewrite 模块指令</p>
<pre><code>break 
语法：break 默认值：none
使用字段：server, location, if 完成当前设置的重写规则，停止执行其他的重写规则。

if
语法：if (condition) { … } 默认值：none 
使用字段：server, location
注意：尽量考虑使用 trp_files 代替。 判断的条件可以有以下值：
1. 一个变量的名称：空字符传”“或者一些“0”开始的字符串为 false。
2. 字符串比较：使用=或!=运算符
3. 正则表达式匹配：使用~(区分大小写)和~*(不区分大小写)，取反运算!~和!~*。
4. 文件是否存在：使用-f 和!-f 操作符
5. 目录是否存在：使用-d 和!-d 操作符
7. 文件、目录、符号链接是否存在：使用-e 和!-e 操作符
8. 文件是否可执行：使用-x 和!-x 操作符

return 
语法：return code 默认值：none
使用字段：server, location, if
停止处理并为客户端返回状态码。非标准的 444 状态码将关闭连接，不发送任何响应头。】
可以使用的状态码有：
204，400，402-406，408，410, 411, 413, 416 与 500-504。如果状态码附带文字段落，该文本将被放置在响应 主体。相反，如果状态码后面是一个 URL，该 URL 将成为 location 头补值。没有状态码的 URL 将被视为一个 302 状态码。

rewrite
语法：rewrite regex replacement flag 默认值：none
使用字段：server, location, if
按照相关的正则表达式与字符串修改 URI，指令按照在配置文件中出现的顺序执行。可以在重写指令后面添加标记。
注意：如果替换的字符串以 http://开头，请求将被重定向，并且不再执行多余的 rewrite 指令。 

尾部的标记(flag)可以是以下的值：
last – 停止处理重写模块指令，之后搜索 location 与更改后的 URI 匹配。 
break – 完成重写指令。
redirect – 返回 302 临时重定向，如果替换字段用 http://开头则被使用。 
permanent – 返回 301 永久重定向。

rewrite_log 语法：rewrite_log on | off 默认值：rewrite_log off
使用字段：server, location, if 变量：无
启用时将在 error log 中记录 notice 级别的重写日志。

set
语法：set variable value 默认值：none  
使用字段：server, location, if 为给定的变量设置一个特定值。
uninitialized_variable_warn 
语法：uninitialized_variable_warn on|off 默认值：uninitialized_variable_warn on 
使用字段：http, server, location, if 控制是否记录未初始化变量的警告信息。
</code></pre></li>
</ol>
<ol>
<li>重写规则组成部分</li>
</ol>
<ul>
<li><p>任何重写规则的第一部分都是一个正则表达式 可以使用括号来捕获，后续可以根据位置来将其引用，位置变量值取决于捕获正则表达式中的顺序，$1 引用第一 个括号中的值，$2 引用第二个括号中的值，以此类推。如：</p>
<pre><code>^/images/([a-z]{2})/([a-z0-9]{5})/(.*)\.(png|jpg|gif)$
</code></pre><p>$1 是两个小写字母组成的字符串，$2 是由小写字母和 0 到 9 的数字组成的 5 个字符的字符串，$3 将是个文件名，<br>$4 是 png、jpg、gif 中的其中一个。</p>
</li>
<li><p>重写规则的第二部分是 URI<br>请求被改写。该 URI 可能包含正则表达式中的捕获的位置参数或这个级别下的 nginx 任何配置变量。如：<br>/data?file=$3.$4<br>如果这个 URI 不匹配 nginx 配置的任何 location，那么将给客户端返回 301(永久重定向)或 302(临时重定向)的状 态码来表示重定向类型。该状态码可以通过第三个参数来明确指定。</p>
</li>
</ul>
<ul>
<li><p>重写规则的第三部分<br>第三部分也就是尾部的标记(flag)。 last 标记将导致重写后的 URI 搜索匹配 nginx 的其他 location，最多可循 环 10 次。如：</p>
<pre><code>rewrite    &apos;^/images/([a-z]{2})/([a-z0-9]{5})/(.*)\.(png|jpg|gif)$&apos;    /data?file=$3.$4 last; break 指令可以当做自身指令。如：
if ($bwhog) {
limit_rate 300k; break;
}
</code></pre></li>
</ul>
<p>另一个停止重写模块处理指令是 return， 来控制主 HTTP 模块处理请求。 这意味着，nginx 直接返回信息给客户 端，与 error_page 结合为客户端呈现格式化的 HTML 页面或激活不同的模块来完成请求。如果状态码附带文字段 落，该文本将被放置在响应主体。相反，如果状态码后面是一个 URL，该 URL 将成为 location 头补值。没有状态 码的 URL 将被视为一个 302 状态码。如：</p>
<pre><code>location = /image404.html {
return    404    &quot;image not found\n&quot;;
}
</code></pre><ol>
<li><p>例子</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line">http &#123;</div><div class="line">#  定义 image 日志格式</div><div class="line">log_format imagelog &apos;[$time_local] &apos; $image_file &apos; &apos; $image_type &apos; &apos; $body_bytes_sent &apos; &apos; $status;</div><div class="line">#  开启重写日志</div><div class="line">rewrite_log on;</div><div class="line"></div><div class="line">server &#123;</div><div class="line">root /home/www;</div><div class="line"></div><div class="line">location / &#123;</div><div class="line">#  重写规则信息</div><div class="line">error_log logs/rewrite.log notice;</div><div class="line">#  注意这里要用‘’单引号引起来，避免&#123;&#125;</div><div class="line">rewrite &apos;^/images/([a-z]&#123;2&#125;)/([a-z0-9]&#123;5&#125;)/(.*)\.(png|jpg|gif)$&apos; /data?file=$3.$4;</div><div class="line">#  注意不能在上面这条规则后面加上“last”参数，否则下面的 set 指令不会执行</div><div class="line">set $image_file $3; set $image_type $4;</div><div class="line">&#125;</div><div class="line">location /data &#123;</div><div class="line">#  指定针对图片的日志格式，来分析图片类型和大小</div><div class="line">access_log logs/images.log mian; root /data/images;</div><div class="line">#   应用前面定义的变量。判断首先文件在不在，不在再判断目录在不在，如果还不在就跳转到最</div><div class="line"> </div><div class="line">后一个 url 里</div><div class="line"></div><div class="line">&#125;</div><div class="line"> </div><div class="line"></div><div class="line">try_files /$arg_file /image404.html;</div><div class="line"> </div><div class="line">location = /image404.html &#123;</div><div class="line">#  图片不存在返回特定的信息</div><div class="line">return 404 &quot;image not found\n&quot;;</div><div class="line">&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>nginx 逻辑运算<br>nginx 的配置中不支持 if 条件的逻辑与&amp;&amp; 逻辑或|| 运算 ，而且不支持 if 的嵌套语法，否则会报下面的错误： nginx: [emerg] invalid condition。<br>我们可以用变量的方式来间接实现。 要实现的语句：</p>
<pre><code>if    ($arg_unitid = 42012 &amp;&amp; $uri ~/thumb/){ echo        &quot;www.ttlsa.com&quot;;
}
</code></pre></li>
</ol>
<p>   如果按照这样来配置，就会报 nginx: [emerg] invalid condition 错误。 可以这么来实现，如下所示：</p>
<pre><code>set    $flag 0;
if ($uri ~ ^/thumb/[0-9]+_160.jpg$){ set $flag &quot;${flag}1&quot;;
}
if ($arg_unitid = 42012){ set $flag &quot;${flag}1&quot;;
}
if ($flag = &quot;011&quot;){ echo &quot;www.ttlsa.com&quot;;
}
</code></pre><ol>
<li><p>隐藏 Nginx 版本号的安全性与方法</p>
<pre><code># vim nginx.conf
在 http {—}里加上 server_tokens off;    如：
</code></pre></li>
<li><p>nginx 正向代理</p>
<p>我们平时用的最多的最常见的是反向代理。那么 nginx 的正向代理是如何配置的呢？</p>
<pre><code>server {
listen 8090; location / {
resolver 218.85.157.99 218.85.152.99;
resolver_timeout 30s;
proxy_pass http://$host$request_uri;
}
access_log    /data/httplogs/proxy-$host-aceess.log;
}
</code></pre><p>就这么简单哈。  </p>
<p>resolver 指令<br>语法: resolver address … [valid=time]; 默认值: none<br>配置段: http, server, location<br>配置 DNS 服务器 IP 地址。可以指定多个，以轮询方式请求。<br>nginx 会缓存解析的结果。默认情况下，缓存时间是名字解析响应中的 TTL 字段的值，可以通过 valid 参数更改。</p>
<p>resolver_timeout 指令<br>语法: resolver_timeout time; 默认值: resolver_timeout 30s;<br>配置段: http, server, location 解析超时时间。</p>
</li>
<li><p>nginx的最大好处，例子解释</p>
</li>
</ol>
<p>由于公司内网有多台服务器的 http 服务要映射到公司外网静态 IP，如果用路由的端口映射来做，就只能一台内网 服务器的 80 端口映射到外网 80 端口，其他服务器的 80 端口只能映射到外网的非 80 端口。非 80 端口的映射在访<br>问的时候要域名加上端口，比较麻烦。并且公司入口路由最多只能做 20 个端口映射。肯定以后不够用。<br>然后 k 兄就提议可以在内网搭建个 nginx 反向代理服务器，将 nginx 反向代理服务器的 80 映射到外网 IP 的 80， 这样指向到公司外网 IP 的域名的 HTTP 请求就会发送到 nginx 反向代理服务器，利用 nginx 反向代理将不同域名 的请求转发给内网不同机器的端口，就起到了“根据域名自动转发到相应服务器的特定端口”的效果，而路由器 的端口映射做到的只是“根据不同端口自动转发到相应服务器的特定端口”，真是喜大普奔啊。</p>
<h1 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h1><p>关于一些，高级的概念，还有第三方模块，这些内容就不属于入门级别的了</p>
<p>这两篇的意义，在于，你能初步，能看懂nginx的配置文件，每个配置的含义，以及初步的开发跳转，基本足够了</p>
<p>等后续，碰到这些高级的概念或者应用的时候，在去看</p>
<p>不是为了单纯的学习而学习。</p>

    </div>
</div>

<div class="cube-article-nav">
    <ul>
        
        <li class="prev">
            <a href="/2017/06/29/linux-awk/">
                <i class="cube-icon cube-prev" aria-hidden="true"></i>
                关于linux中的awk用法
            </a>
        </li>
        
        
        <li class="next">
            <a href="/2017/06/28/nginx/">
                nginx入门系列一
                <i class="cube-icon cube-next" aria-hidden="true"></i>
            </a>
        </li>
        
    </ul>
</div>


<!-- TODO 根据theme.comment的内容进行入口选择 -->



        </div>
        <div class="cube-right">
            

<div class="cube-search cube-sidebar" id="cube-search">
    <div class="search-container">
        <input type="text" placeholder="搜索" class="cube-search-input" id="cube-search-input">
        <i class="cube-icon cube-icon-search cube-search-submit" aria-hidden="true"></i>
    </div>
    <!-- TODO 通过给window赋一个全局变量，通过脚本赋值 -->
</div>
<script>
    (function (window) {
        'use strict';
        window.searchModule = {}
        window.searchModule.JSONUrl = '/content.json'
        window.searchModule.rootUrl = '/'
    })(window)
</script>
<div class="cube-search-form">
    <div class="cube-search-control">
        <input type="text" placeholder="搜索" class="search-input">
        <a class="close-button">
            <i class="cube-icon cube-close" aria-hidden="true"></i>
        </a>
    </div>
    <div class="cube-search-result"></div>
</div>


<div class="title">
    <a>珍惜时间</a>
</div>
<div class="cube-clock cube-sidebar" id="cube-clock">
    <style>
        #cube-clock{
            height:300px;
        }

    </style>
    <iframe src="/origin/clock.html" style="width:100%;height:100%;overflow-x:hidden;"    frameborder="0">
    </iframe>
</div>


<div class="title">
    <a>图片欣赏</a>
</div>
<div class="cube-pic cube-sidebar" id="cube-pic">
    <style>
        .cube-pic{
            height:340px;
        }

    </style>
    <iframe src="/origin/pics.html" style="width:100%;height:100%;overflow-x:hidden;"    frameborder="0">
    </iframe>
</div>



<div class="title">
    <a>我在哪里？</a>
</div>
<div class="cube-map cube-sidebar" id="cube-map">
    <style>
        .cube-map{
            height:365px;
        }

    </style>
    <iframe src="/origin/map.html" style="width:100%;height:100%;overflow-x:hidden;"    frameborder="0">
    </iframe>
</div>



<div class="title">
    <a>最爱音乐</a>
</div>
<div class="cube-music cube-sidebar" id="cube-music">
    <div class="cube-player aplayer" id="cube-player"></div>
</div>
<script>
    (function (window) {
        window.musicModule = {}
        window.musicModule.musicConfig = '{"narrow":false,"autoplay":true,"showlrc":0,"theme":"#b7daff","mutex":true,"mode":"random","preload":"auto","listmaxheight":"513px","music":[{"title":"You","author":"雪野五月","url":"http://fs.w.kugou.com/201709301412/ade28c2d08580c10cc2af3f0408df27d/G014/M03/11/01/roYBAFUKii-AYLzJADzMkUW2wrM890.mp3","pic":"http://singerimg.kugou.com/uploadpic/softhead/400/20141220/20141220175754495447.jpg"},{"title":"あいぞめ","author":"能登麻美子","url":"http://fs.w.kugou.com/201709301410/f5aa2ac76884dd92ab5123c9f1f1580c/G009/M07/01/19/qYYBAFT-T1GAYzlVAEUJNzS7FeY980.mp3","pic":"http://singerimg.kugou.com/uploadpic/softhead/400/20140411/20140411182558407258.jpg"},{"title":"逆さまの蝶","author":"SNoW","url":"http://fs.w.kugou.com/201709301312/3d2eb3cc5b2c2b9b15b0f819a9bb94c7/G011/M04/19/03/Sw0DAFT-rIiAB5T5AELUb0ACOaA266.mp3","pic":"http://singerimg.kugou.com/uploadpic/softhead/400/20110704/20110704110207910.jpg"},{"title":"Only My Railgun","author":"fripSide","url":"http://fs.w.kugou.com/201709301412/020400366b16a59e96f3e8e757db7b82/G012/M06/0A/04/TA0DAFULdzuAQT5xAD7H1p1vchc426.mp3","pic":"http://singerimg.kugou.com/uploadpic/softhead/400/20140901/20140901133905743482.jpg"},{"title":"Continued Story","author":"黒石ひとみ","url":"http://fs.w.kugou.com/201709301410/6e5f221dedf36ec624313a22da7bbc97/G005/M0A/06/15/pYYBAFUIRdeAOkNWAEyLwX4EGs8349.mp3","pic":"http://singerimg.kugou.com/uploadpic/softhead/400/20131214/20131214151506586339.jpg"},{"title":"青空","author":"Lia","url":"http://fs.w.kugou.com/201709301414/67ffa781675410bf1bb9041fd0601cee/G006/M09/1D/15/poYBAFS3912AEvH3AD9DQT130PY308.mp3","pic":"http://singerimg.kugou.com/uploadpic/softhead/400/20151219/20151219102303708.jpg"},{"title":"God knows...","author":"平野綾","url":"http://fs.w.kugou.com/201709301414/bffce7489a4768cdacee3271433d1480/G047/M03/16/10/D5QEAFYmheqAUNFQAESkqo_0ay0392.mp3","pic":"http://singerimg.kugou.com/uploadpic/softhead/400/20160924/20160924170911713.jpg"},{"title":"I Do","author":"Ilaria Graziano","url":"http://fs.w.kugou.com/201709301414/0dabf35c3b8ace7d1b382b3cfba5bdd9/G010/M07/1E/00/qoYBAFULeA-Aa9k4AEdgpyzbLdE313.mp3","pic":"http://singerimg.kugou.com/uploadpic/softhead/400/20140403/20140403181759832730.jpg"}]}'
        window.musicModule.lrcConfig = {
            open: '开启歌词',
            close: '关闭歌词'
        }
    })(window)
</script>



<div class="title">
    <a>推荐视频</a>
</div>
<div class="cube-video cube-sidebar" id="cube-video">
    <style>
        .cube-video{
            height:300px;
        }
    </style>
    <video src="http://vjs.zencdn.net/v/oceans.mp4" style="width:100%;height:100%;background:#000;" controls ></video>

</div>




<div class="title">
    <a>日常撸狗</a>
</div>
<div class="cube-demo cube-sidebar" id="cube-demo">
    <style>
        .cube-demo{
            height:365px;
        }

    </style>
    <iframe src="/origin/robbot.html" style="width:100%;height:100%;overflow-x:hidden;"    frameborder="0">
    </iframe>
</div>



<div class="cube-recent-posts cube-sidebar" id="cube-recent-posts">
    <div class="title">
        <a>近期文章</a>
    </div>
    <ul class="list">
        
        
        <li>
            <!-- TODO 如果文章要显示图片，那么在front-matter上添加preview属性(url or path) -->
            
            <div class="normal">
                <p class="index first">
                    <span>1</span>
                </p>
                <p class="title">
                    <a href="/2017/10/12/js-es6/" title="ES6新特性概览总结">ES6新特性概览总结</a>
                </p>
            </div>
            
        </li>
        
        
        
        <li>
            <div class="normal">
                <p class="index">
                    <span>2</span>
                </p>
                <p class="title">
                    <a href="/2017/08/31/person-leave/" title="关于生命中最亲的人的离别">关于生命中最亲的人的离别</a>
                </p>
            </div>
        </li>
        
        
        
        <li>
            <div class="normal">
                <p class="index">
                    <span>3</span>
                </p>
                <p class="title">
                    <a href="/2017/08/28/amp-hello/" title="如何创建一个简单hello wolrd的amp网页？">如何创建一个简单hello wolrd的amp网页？</a>
                </p>
            </div>
        </li>
        
        
        
        <li>
            <div class="normal">
                <p class="index">
                    <span>4</span>
                </p>
                <p class="title">
                    <a href="/2017/07/24/java-format/" title="关于Java中的编程规约">关于Java中的编程规约</a>
                </p>
            </div>
        </li>
        
        
        
        <li>
            <div class="normal">
                <p class="index">
                    <span>5</span>
                </p>
                <p class="title">
                    <a href="/2017/07/21/hive-decode/" title="关于hive中decode函数，默认转码没有GBK中文字符集的问题">关于hive中decode函数，默认转码没有GBK中文字符集的问题</a>
                </p>
            </div>
        </li>
        
        
    </ul>
</div>



<div class="cube-links cube-sidebar" id="cube-links">
    <div class="title">
        <a>个人链接</a>
    </div>
    <ul class="list">
        
        <li>
            
            
            <img src="http://cube-1252774894.cosgz.myqcloud.com/links/GitHub.png">
            
            <a href="https://github.com/Ghohankawk" target="_blank">GitHub</a>
        </li>
        
        <li>
            
            
            <img src="http://is5.mzstatic.com/image/thumb/Purple128/v4/06/c4/9f/06c49f4a-9d81-2193-3dd7-0ea79a377cf0/source/175x175bb.jpg">
            
            <a href="http://blog.csdn.net/ghohankawk" target="_blank">CSDN</a>
        </li>
        
    </ul>
</div>



<div class="cube-friend-links cube-sidebar" id="cube-friend-links">
    <div class="title">
        <a>友情链接</a>
    </div>
    <ul class="list">
        
        <li>
            <!-- TODO change avatar.png to friend.png-->
            <img src="http://cube-1252774894.cosgz.myqcloud.com/avatar.png">
            <a href="http://sora1.coding.me/" target="_blank">该主题大佬</a>
        </li>
        
    </ul>
</div>


        </div>
    </div>
</div>
<footer class="cube-footer">
    <span style="display: inline;" id="busuanzi_container_site_uv">本站总访客数 <span id="busuanzi_value_site_uv" font="微软雅黑" style="color:black"></span> 次</span>
<span style="display: inline;" id="busuanzi_container_site_pv">本站总访问量 <span id="busuanzi_value_site_pv" font="微软雅黑" style="color:black"></span> 次</span>

© 2017 ghohank

<br>
<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>.&nbsp;Theme by <a href="https://github.com/ZEROKISEKI" target="_blank">AONOSORA</a>
</footer>
<!-- inject:script -->
<script src="/js/script.js"></script>
<!-- endinject -->
<div class="cube-loading out"></div>
<style>
#live2dcanvas{
    left: 0;
}
</style>

    <script type="text/javascript" src="/live2d/script.js"></script>
    <canvas id="live2dcanvas" width="150" height="300" class="live2d"></canvas>
    <style>
      #live2dcanvas {
        position: fixed;
        right: 0px;
        z-index: 999;
        pointer-events: none;
        bottom: 60px;
      }
    </style>
    <script>loadlive2d("live2dcanvas" ,"/live2d/assets/haru/haru.model.json",0.5)</script>
  
</body>
</html>